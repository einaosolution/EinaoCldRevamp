<div class="page-breadcrumb">
    <div class="row">
        <div class="col-5 align-self-center">
            <h4 class="page-title">User Approval </h4>
            <div class="d-flex align-items-center">
            </div>
        </div>
        <div class="col-7 align-self-center">
            <div class="d-flex no-block justify-content-end align-items-center">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="#">Home</a>
                        </li>
                        <li class="breadcrumb-item active" aria-current="page">User Approval </li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
  </div>
  <!-- ============================================================== -->
  <!-- End Bread crumb and right sidebar toggle -->
  <!-- ============================================================== -->
  <!-- ============================================================== -->
  <!-- Container fluid  -->
  <!-- ============================================================== -->
  <div class="container-fluid">
    <!-- ============================================================== -->
    <!-- Start Page Content -->
    <!-- ============================================================== -->
    <div class="row">


        <!-- Column -->
        <div class="col-lg-12 col-xl-12 col-md-12">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex no-block align-items-center m-b-30">
                        <h4 class="card-title">User Approval </h4>
                        <div [ngBusy]="busy"></div>

                        <ngx-spinner> <p style="font-size: 20px; color: white">Please Wait...</p></ngx-spinner>
                        <div class="ml-auto">
                            <div class="btn-group">
                                <button type="button" class="btn btn-dark" data-toggle="modal"  (click) ="showcountry2()" >
                                  Create User
                                </button>
                            </div>
                        </div>
                    </div>

                    <br/>




                    <div class="table-responsive">
                        <table id="myTable" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-bordered nowrap display">
                            <thead>
                                <tr>
                                    <th>Firstname</th>
                                    <th>Lastname</th>
                                    <th>PhoneNumber</th>
                                    <th>Username</th>
                                    <th>Department</th>
                                    <th>Status</th>

                                    <th>DateCreated</th>

                                    <th> Action</th>


                                </tr>
                              </thead>
                              <tbody>

                                  <tr *ngFor="let emp of row3  let i = index">
                                      <td>{{emp.first_Name}}</td>

                                       <td>{{emp.last_Name}}</td>
                                       <td>{{emp.mobileNumber}}</td>
                                       <td>{{emp.email}}</td>
                                       <td>{{getrole(emp.department)}}</td>
                                       <td>{{emp.status}}</td>
                                        <td>{{emp.dateCreated|date}}</td>

                                        <td>
                                            <button type="button" id="openModalButton" (click) ="showcountry(emp)"  class="btn btn-success btn-circle"><i class="fa fa-edit"></i> </button>
                                               <button type="button"  (click) ="showcountry3(emp)"  class="btn btn-danger btn-circle" data-toggle="tooltip" data-original-title="Delete"><i class="fa fa-trash"></i> </button>


                                       </td>



                                      </tr>
                                    </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- Column -->

    </div>

  </div>
   <!--Create Modal 2 -->
  <div class="modal fade" id="createmodel2" tabindex="-1" role="dialog" aria-labelledby="createModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
          <div class="modal-content">
                   <div class="card-body wizard-content">
                          <div class="modal-header">
                                  <h5 class="modal-title" id="createModalLabel"><i class="ti-marker-alt m-r-10"></i> Approve User</h5>
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                                  </button>
                              </div>
                              <form class="form-horizontal" [formGroup]="userform2" role="form" >
                                <div class="row">
                                    <div class="col-md-3"></div>
                                    <div class="col-md-6">

                                        <h2>Approval </h2>
                                        <div [ngBusy]="busy"></div>

                                        <ngx-spinner> <p style="font-size: 20px; color: white">Please Wait...</p></ngx-spinner>
                                        <hr>
                                    </div>
                                </div>

                                <div class="row">
                                  <div class="col-md-3 field-label-responsive d-flex justify-content-end">
                                      <label for="email">First Name</label>
                                  </div>
                                  <div class="col-md-6">
                                      <div class="form-group">
                                          <div class="input-group mb-2 mr-sm-2 mb-sm-0">

                                              <input type="text" name="name"  formControlName="Firstname2" [ngClass]="{ 'is-invalid': submitted2 && Firstname2.errors }"   class="form-control" id="name"
                                                     placeholder="First Name" required autofocus>


                                                     <div *ngIf="submitted2 && Firstname2.errors" class="invalid-feedback">
                                                      <div *ngIf="submitted2 && Firstname2.errors.required">First Name is required</div>

                                                    </div>

                                          </div>
                                      </div>
                                  </div>

                              </div>
                                <div class="row">
                                    <div class="col-md-3 field-label-responsive d-flex justify-content-end">
                                        <label for="email">Last Name </label>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <div class="input-group mb-2 mr-sm-2 mb-sm-0">

                                                <input type="text" name="name"   formControlName="Lastname2" [ngClass]="{ 'is-invalid': submitted2 && Lastname2.errors }"     class="form-control" id="name"
                                                       placeholder="Last Name"  autofocus>


                                                       <div *ngIf="submitted2 && Lastname2.errors" class="invalid-feedback">
                                                        <div *ngIf="submitted2 && Lastname2.errors.required">Last Name is required</div>

                                                      </div>


                                            </div>
                                        </div>
                                    </div>

                                </div>


                                <div class="row">
                                  <div class="col-md-3 field-label-responsive d-flex justify-content-end">
                                      <label for="email">Email </label>
                                  </div>
                                  <div class="col-md-6">
                                      <div class="form-group">
                                          <div class="input-group mb-2 mr-sm-2 mb-sm-0">

                                              <input type="text" name="name"   formControlName="Email2" [ngClass]="{ 'is-invalid': submitted2 && Email2.errors }"     class="form-control" id="name"
                                                     placeholder="Email"  autofocus>


                                                     <div *ngIf="submitted2 &&Email2.errors" class="invalid-feedback">
                                                      <div *ngIf="submitted2 && Email2.errors.required">Email is required</div>

                                                    </div>


                                          </div>
                                      </div>
                                  </div>

                              </div>


                              <div class="row">
                                <div class="col-md-3 field-label-responsive d-flex justify-content-end">
                                    <label for="email">Role </label>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <div class="input-group mb-2 mr-sm-2 mb-sm-0">


                                            <select class="form-control"  formControlName="Role2"  [ngClass]="{ 'is-invalid': submitted2 && Role2.errors }"     id="sel1">
                                                <option value="">---- --Select Role-----</option>


                                                <option *ngFor="let country2 of row5" value= {{country2.roleId}}>
                                                  {{country2.title}}
                                                </option>
                                            </select>



                                        </div>
                                    </div>
                                </div>

                            </div>






























                            </form>
      </div>
              <form>


                  <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      <button type="button" (click) ="onSubmit4()" class="btn btn-success"><i class="ti-save"></i> Approve</button>

                  </div>
              </form>
          </div>
      </div>
    </div>

  <!-- Create Modal -->
  <div class="modal fade" id="createmodel" tabindex="-1" role="dialog" aria-labelledby="createModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
                 <div class="card-body wizard-content">
                        <div class="modal-header">
                                <h5 class="modal-title" id="createModalLabel"><i class="ti-marker-alt m-r-10"></i> Create New Staff</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
        <form action="#"  [formGroup]="userform" >
          <span class="tab-wizard wizard-circle">
            <!-- Step 1 -->
            <h6>Personal Info</h6>
            <section>
                    <div class="modal-body">
                            <div class="container-fluid">



                        <div class="input-group mb-3">
                            <button type="button" class="btn btn-success"><i class="ti-user text-white"></i></button>
                            <input type="text"   formControlName="Firstname" [ngClass]="{ 'is-invalid': submitted && Firstname.errors }" class="form-control" placeholder="Enter  Firstname Here" aria-label="name">
                            <div *ngIf="submitted && Firstname.errors" class="invalid-feedback">
                              <div *ngIf="submitted && Firstname.errors.required">Firstname is required</div>

                            </div>

                          </div>

                        <div class="input-group mb-3">
                          <button type="button" class="btn btn-success"><i class="ti-user text-white"></i></button>
                          <input type="text"   formControlName="Lastname" [ngClass]="{ 'is-invalid': submitted && Lastname.errors }" class="form-control" placeholder="Enter  Lastname Here" aria-label="name">
                          <div *ngIf="submitted && Lastname.errors" class="invalid-feedback">
                            <div *ngIf="submitted && Lastname.errors.required">Lastname is required</div>

                          </div>

                        </div>
                        <div class="input-group mb-3">
                            <button type="button" class="btn btn-success"><i class="ti-more text-white"></i></button>
                            <input type="text" class="form-control"  formControlName="MobileNumber" [ngClass]="{ 'is-invalid': submitted && MobileNumber.errors }" placeholder="Enter Mobile Number Here" aria-label="no">
                            <div *ngIf="submitted && MobileNumber.errors" class="invalid-feedback">
                              <div *ngIf="submitted && MobileNumber.errors.required">Mobile Number is required</div>

                            </div>

                          </div>
                        <div class="input-group mb-3">
                                <button type="button" class="btn btn-success"><i class="ti-settings text-white"></i></button>

                                <select  formControlName="Gender"  [ngClass]="{ 'is-invalid': submitted && Gender.errors }" class="form-control custom-select">
                                  <option value=""> --Select Gender--</option>
                                  <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                </select>
                                <div *ngIf="submitted && Gender.errors" class="invalid-feedback">
                                  <div *ngIf="submitted && Gender.errors.required">Gender is required</div>

                                </div>

                              </div>


                            <div class="input-group mb-3">
                                <button type="button" class="btn btn-success"><i class="ti-more text-white"></i></button>
                                <input type="text" class="form-control"  formControlName="StaffId" [ngClass]="{ 'is-invalid': submitted && StaffId.errors }" placeholder="Staff Id No" aria-label="no">
                                <div *ngIf="submitted && StaffId.errors" class="invalid-feedback">
                                  <div *ngIf="submitted && StaffId.errors.required">StaffId is required</div>

                                </div>

                              </div>


                                <div class="input-group mb-3">
                                        <button type="button" class="btn btn-success"><i class="ti-settings text-white"></i></button>
                                        <input type="text"  (change)="valuechange($event)" formControlName="Email"  [ngClass]="{ 'is-invalid': submitted && Email.errors }" class="form-control"  placeholder="Email" aria-label="no">
                                        <div *ngIf="submitted && Email.errors" class="invalid-feedback">
                                          <div *ngIf="submitted && Email.errors.required">Email is required</div>

                                        </div>
                                        </div>
                        </div>
                    </div>






            </section>

            <!-- Step 2 -->
            <h6>Contact Address</h6>
            <section>

                <div class="input-group mb-3">
                    <button type="button" class="btn btn-success"><i class="ti-settings text-white"></i></button>


                    <select   formControlName="Ministry"  [ngClass]="{ 'is-invalid': submitted && Ministry.errors }" class="form-control custom-select">
                      <option value=""> --Select your Ministry--</option>
                      <option *ngFor="let country2 of row8" value= {{country2.id}}>
                          {{country2.description}}
                        </option>

                    </select>

                    <div *ngIf="submitted && Ministry.errors" class="invalid-feedback">
                      <div *ngIf="submitted && Ministry.errors.required">Ministry is required</div>

                    </div>

                </div>

                <div class="input-group mb-3">
                    <button type="button" class="btn btn-success"><i class="ti-settings text-white"></i></button>


                    <select   formControlName="Department"  [ngClass]="{ 'is-invalid': submitted && Department.errors }" class="form-control custom-select">
                      <option value=""> --Select your Department--</option>
                      <option *ngFor="let country2 of row9" value= {{country2.id}}>
                          {{country2.name}}
                        </option>

                    </select>

                    <div *ngIf="submitted && Unit.errors" class="invalid-feedback">
                      <div *ngIf="submitted && Department.errors.required">Department is required</div>

                    </div>

                </div>

                            <div class="input-group mb-3">
                                    <button type="button" class="btn btn-success"><i class="ti-settings text-white"></i></button>


                                    <select   formControlName="Unit"  [ngClass]="{ 'is-invalid': submitted && Unit.errors }" class="form-control custom-select">
                                        <option value=""> --Select your Unit--</option>
                                        <option *ngFor="let country2 of row7" value= {{country2.id}}>
                                            {{country2.description}}
                                          </option>

                                      </select>

                                    <div *ngIf="submitted && Unit.errors" class="invalid-feedback">
                                      <div *ngIf="submitted && Unit.errors.required">Unit is required</div>

                                    </div>

                                </div>

                                <div class="row">
                                        <div class="col-md-12 ">
                                            <div class="form-group">
                                                <label>Street</label>
                                                <input  formControlName="Street"  [ngClass]="{ 'is-invalid': submitted && Street.errors }" type="text" placeholder="Street" class="form-control">
                                            </div>
                                        </div>

                                        <div *ngIf="submitted && Street.errors" class="invalid-feedback">
                                          <div *ngIf="submitted && Street.errors.required">Street is required</div>

                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>City</label>
                                                <input type="text"  formControlName="City"  [ngClass]="{ 'is-invalid': submitted && City.errors }"  placeholder="City" class="form-control">
                                            </div>

                                        <div *ngIf="submitted && City.errors" class="invalid-feedback">
                                          <div *ngIf="submitted && City.errors.required">City is required</div>

                                        </div>
                                        </div>
                                        <!--/span-->
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>State</label>

                                                <select   name="Identification"  formControlName="State" [ngClass]="{ 'is-invalid': submitted && State.errors }"       class="custom-select form-control-lg "    id="Month">
                                                    <option  value= "">
                                                      --Select State--
                                                      </option>
                                                    <option *ngFor="let country2 of row2" value= {{country2.id}}>
                                                      {{country2.stateName}}
                                                    </option>
                                                  </select>

                                              </div>

                                            <div *ngIf="submitted && State.errors" class="invalid-feedback">
                                              <div *ngIf="submitted && State.errors.required">State is required</div>

                                            </div>
                                        </div>
                                        <!--/span-->
                                    </div>
                                    <!--/row-->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Post Code</label>
                                                <input type="text" formControlName="Postal" placeholder="Postal Code" class="form-control">
                                            </div>
                                        </div>
                                        <!--/span-->
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Country</label>

                                                <select   name="Identification"  formControlName="Country" [ngClass]="{ 'is-invalid': submitted && Country.errors }"       class="custom-select form-control-lg "    id="Month">
                                                    <option  value= "">
                                                      --Select Country--
                                                      </option>
                                                    <option *ngFor="let country2 of rows" value= {{country2.id}}>
                                                      {{country2.name}}
                                                    </option>
                                                  </select>

                                            </div>

                                            <div *ngIf="submitted && Country.errors" class="invalid-feedback">
                                              <div *ngIf="submitted && Country.errors.required">Country is required</div>

                                            </div>
                                        </div>
                                        <!--/span-->
                                    </div>

            </section>
          </span>
        </form>
    </div>
            <form>


                <div class="modal-footer">
                    <button  type="button" id="cancel2"   class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="submit"  (click) ="onSubmit()" class="btn btn-success"><i class="ti-save"></i> Save</button>
                </div>
            </form>
        </div>
    </div>
  </div>



